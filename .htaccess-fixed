# Kirby .htaccess for GoDaddy
RewriteEngine on
RewriteBase /

# Block access to dot files
RewriteRule (^|/)\.(?!well-known\/) index.php [L]

# Block direct access to content, site, and kirby folders
RewriteRule ^content/(.*) index.php [L]
RewriteRule ^site/(.*) index.php [L]
RewriteRule ^kirby/(.*) index.php [L]

# Main rewrite rule for Kirby
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*) index.php [L]

# Pass authorization header
SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1